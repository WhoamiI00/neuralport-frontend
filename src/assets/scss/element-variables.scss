/*
@import "_variables";
complete variables list in: node_modules/element-ui/packages/theme-chalk/src/common/var.scss
*/

/* icon font path, required 
$--font-path: "~element-ui/lib/theme-chalk/fonts";
*/
@use "element-plus/theme-chalk/src/index.scss" as *;
@use "element-plus/theme-chalk/src/display.scss" as *;
//@use "element-plus/theme-chalk/src/common/var.scss" as *;

/* theme color */
@forward "element-plus/theme-chalk/src/common/var.scss" with (
    $colors: (
        "primary": (
            "base": $text-color-accent
        ),
        "success": (
            "base": $text-color-success
        ),
        "warning": (
            "base": $text-color-warning
        ),
        "danger": (
            "base": $text-color-danger
        ),
        "info": (
            "base": $text-color-info
        )
    )
);

.el-form--label-top .el-form-item__label {
    padding: 0;
    line-height: 30px;
}
.el-upload.el-upload--text {
    max-width: 100%;

    .el-upload-dragger {
        max-width: 100%;
    }
}
.el-message {
    min-width: 310px;
}
.el-notification {
    width: 290px;
}
.el-message-box {
    max-width: 95%;
    box-sizing: border-box;
}

// Dark mode styles for message box
.dark .el-message-box,
.dark-mode .el-message-box,
[data-theme="dark"] .el-message-box {
    background-color: #1e293b;
    border-color: #334155;
    
    .el-message-box__header {
        background-color: #1e293b;
    }
    
    .el-message-box__title {
        color: #f1f5f9;
    }
    
    .el-message-box__content {
        color: #cbd5e1;
    }
    
    .el-message-box__message {
        color: #cbd5e1;
    }
    
    .el-message-box__close {
        color: #94a3b8;
        
        &:hover {
            color: #f1f5f9;
        }
    }
    
    .el-message-box__btns {
        .el-button--default {
            background-color: #334155;
            border-color: #475569;
            color: #e2e8f0;
            
            &:hover {
                background-color: #475569;
                border-color: #64748b;
                color: #f8fafc;
            }
        }
    }
}

// Dark mode styles for select dropdown
.dark .el-select-dropdown,
.dark-mode .el-select-dropdown,
[data-theme="dark"] .el-select-dropdown {
    background-color: rgba(30, 41, 59, 0.95) !important;
    border: 1px solid rgba(255, 255, 255, 0.12) !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5) !important;
    
    .el-select-dropdown__item {
        color: #e2e8f0 !important;
        
        &:hover {
            background-color: rgba(51, 65, 85, 0.9) !important;
        }
        
        &.is-selected {
            color: #60a5fa !important;
            background-color: rgba(96, 165, 250, 0.15) !important;
            font-weight: 600;
        }
        
        &.is-disabled {
            color: #64748b !important;
        }
    }
    
    .el-select-dropdown__empty {
        color: #94a3b8 !important;
    }
}

// Dark mode for autocomplete dropdown
.dark .el-autocomplete-suggestion,
.dark-mode .el-autocomplete-suggestion,
[data-theme="dark"] .el-autocomplete-suggestion {
    background-color: rgba(30, 41, 59, 0.95) !important;
    border: 1px solid rgba(255, 255, 255, 0.12) !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5) !important;
    
    li {
        color: #e2e8f0 !important;
        
        &:hover {
            background-color: rgba(51, 65, 85, 0.9) !important;
        }
    }
}

// Dark mode for popper
.dark .el-popper.is-light,
.dark-mode .el-popper.is-light,
[data-theme="dark"] .el-popper.is-light {
    background: rgba(30, 41, 59, 0.95) !important;
    border: 1px solid rgba(255, 255, 255, 0.12) !important;
    
    .el-popper__arrow::before {
        background: rgba(30, 41, 59, 0.95) !important;
        border: 1px solid rgba(255, 255, 255, 0.12) !important;
    }
}

// Dark mode for dialog
.dark .el-dialog,
.dark-mode .el-dialog,
[data-theme="dark"] .el-dialog {
    background: rgba(30, 41, 59, 0.95) !important;
    border: 1px solid rgba(255, 255, 255, 0.12) !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5) !important;
    
    .el-dialog__header {
        background: transparent;
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    }
    
    .el-dialog__title {
        color: #f1f5f9 !important;
    }
    
    .el-dialog__headerbtn {
        .el-dialog__close {
            color: #94a3b8 !important;
            
            &:hover {
                color: #f1f5f9 !important;
            }
        }
    }
    
    .el-dialog__body {
        color: #e2e8f0 !important;
    }
    
    .el-dialog__footer {
        border-top: 1px solid rgba(255, 255, 255, 0.08);
    }
}

// Dark mode for inputs inside dialogs
.dark .el-input,
.dark-mode .el-input,
[data-theme="dark"] .el-input {
    .el-input__wrapper {
        background: rgba(15, 23, 42, 0.8) !important;
        border-color: rgba(255, 255, 255, 0.12) !important;
        box-shadow: none !important;
        
        &:hover {
            border-color: rgba(45, 212, 191, 0.4) !important;
        }
        
        &.is-focus {
            border-color: #2dd4bf !important;
            box-shadow: 0 0 0 3px rgba(45, 212, 191, 0.1) !important;
        }
        
        .el-input__inner {
            color: #e2e8f0 !important;
            
            &::placeholder {
                color: #64748b !important;
            }
        }
    }
}

// Dark mode for select component
.dark .el-select,
.dark-mode .el-select,
[data-theme="dark"] .el-select {
    .el-select__wrapper {
        background: rgba(15, 23, 42, 0.8) !important;
        border-color: rgba(255, 255, 255, 0.12) !important;
        box-shadow: none !important;
        
        &:hover {
            border-color: rgba(45, 212, 191, 0.4) !important;
        }
        
        &.is-focused {
            border-color: #2dd4bf !important;
            box-shadow: 0 0 0 3px rgba(45, 212, 191, 0.1) !important;
        }
    }
    
    .el-select__placeholder {
        color: #64748b !important;
    }
    
    .el-select__input {
        color: #e2e8f0 !important;
    }
    
    .el-select__selected-item {
        color: #e2e8f0 !important;
    }
    
    .el-select__suffix {
        .el-icon {
            color: #94a3b8 !important;
        }
    }
    
    .el-select__tags {
        .el-tag {
            background: rgba(45, 212, 191, 0.15) !important;
            border-color: rgba(45, 212, 191, 0.3) !important;
            color: #2dd4bf !important;
            
            .el-tag__close {
                color: #2dd4bf !important;
                
                &:hover {
                    background: rgba(45, 212, 191, 0.2) !important;
                }
            }
        }
    }
}

// Dark mode for textarea
.dark .el-textarea,
.dark-mode .el-textarea,
[data-theme="dark"] .el-textarea {
    .el-textarea__inner {
        background: rgba(15, 23, 42, 0.8) !important;
        border-color: rgba(255, 255, 255, 0.12) !important;
        color: #e2e8f0 !important;
        
        &::placeholder {
            color: #64748b !important;
        }
        
        &:hover {
            border-color: rgba(45, 212, 191, 0.4) !important;
        }
        
        &:focus {
            border-color: #2dd4bf !important;
            box-shadow: 0 0 0 3px rgba(45, 212, 191, 0.1) !important;
        }
    }
}

// Dark mode for switch
.dark .el-switch,
.dark-mode .el-switch,
[data-theme="dark"] .el-switch {
    .el-switch__core {
        background: #334155 !important;
        border-color: #475569 !important;
    }
    
    &.is-checked .el-switch__core {
        background: #2dd4bf !important;
        border-color: #2dd4bf !important;
    }
    
    .el-switch__label {
        color: #cbd5e1 !important;
        
        &.is-active {
            color: #2dd4bf !important;
        }
    }
}

// Dark mode overlay
.dark .el-overlay,
.dark-mode .el-overlay,
[data-theme="dark"] .el-overlay {
    background-color: rgba(0, 0, 0, 0.7);
}

.el-menu--horizontal {
    min-height: 35px;

    &.limit-height {
        max-height: 60%;
        overflow-x: hidden;
        overflow-y: auto;
    }

    &[x-placement="top-start"],
    &[x-placement="top-start"] .el-menu--horizontal,
    &[x-placement="top-start"] .el-menu--horizontal > .el-menu--popup {
        position: fixed !important;
        bottom: 45px !important;
        top: initial !important;
        transform: none !important;
    }
}
.el-menu--vertical {
    &.limit-height {
        max-height: 90%;
        overflow-x: hidden;
        overflow-y: auto;
    }

    /*&[x-placement="left-start"] {
		position: fixed !important;
		right: 75px !important;
		left: initial !important;
		transform: none !important;
		
		.el-menu--vertical {
			position: fixed !important;
			right: 280px !important;
			left: initial !important;
			transform: none !important;
		
			.el-menu--vertical > .el-menu--popup {
				position: fixed !important;
				right: 485px !important;
				left: initial !important;
				transform: none !important;
			}
		}
	}*/
}

.el-popper {
    max-height: 90%;
    overflow-x: hidden;
    overflow-y: auto;
}
.el-select-dropdown.el-popper,
.el-picker-panel.el-popper,
.el-time-panel.el-popper {
    max-height: inherit;
    overflow: initial;
}

.el-tooltip__popper.is-light {
    color: #000;
}

.el-progress .el-progress__text {
    color: $text-color-primary;
}

.el-checkbox .el-checkbox__label {
    color: $text-color-primary;
}

.el-tabs:not(.el-tabs--border-card) {
    .el-tabs__item:not(.is-active) {
        color: $text-color-primary;
    }
}

.el-dialog {
    min-width: 310px;
}
